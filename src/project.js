require=function c(i,n,s){function p(o,e){if(!n[o]){if(!i[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(d)return d(o,!0);var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r}var a=n[o]={exports:{}};i[o][0].call(a.exports,function(e){var t=i[o][1][e];return p(t||e)},a,a.exports,c,i,n,s)}return n[o].exports}for(var d="function"==typeof require&&require,e=0;e<s.length;e++)p(s[e]);return p}({attributeCtl:[function(e,t,o){"use strict";cc._RF.push(t,"75e86tAxI1HPr/g3POxU+hx","attributeCtl"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attribute1=null,e.attribute2=null,e.attribute3=null,e.attribute4=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.attribute1.string="0",this.attribute2.string="0",this.attribute3.string="0",this.attribute4.string="0"},__decorate([c(cc.Label)],e.prototype,"attribute1",void 0),__decorate([c(cc.Label)],e.prototype,"attribute2",void 0),__decorate([c(cc.Label)],e.prototype,"attribute3",void 0),__decorate([c(cc.Label)],e.prototype,"attribute4",void 0),e=__decorate([a],e)}(cc.Component);o.default=i,cc._RF.pop()},{}],bgCtl:[function(e,t,o){"use strict";cc._RF.push(t,"3207cY8kdhNKLgEbnAaUPeD","bgCtl"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.preBg=null,e._speed=null,e}return __extends(e,t),e.prototype.onLoad=function(){this._speed=5},e.prototype.update=function(e){this.bg.x-=this._speed,this.bg.x<=-cc.winSize.width&&(this.bg.x=0)},__decorate([c(cc.Node)],e.prototype,"bg",void 0),__decorate([c(cc.Node)],e.prototype,"preBg",void 0),__decorate([c(cc.Integer)],e.prototype,"_speed",void 0),e=__decorate([a],e)}(cc.Component);o.default=i,cc._RF.pop()},{}],cameraManager:[function(e,t,o){"use strict";cc._RF.push(t,"64d08I8ulxK97aZmKJzjBwC","cameraManager"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.far=null,e.farReleseSpeed=0,e.farOffX=0,e.ground=null,e.groundReleseSpeed=0,e.groundOffX=0,e.treasuerLayer=null,e.layerRelaseSpeed=0,e.oFarX=0,e.oGroundX=0,e.game=null,e}return __extends(e,t),e.prototype.init=function(e){this.game=e,this.oFarX=this.far.x,this.oGroundX=this.ground.x},e.prototype.moveBg=function(e){this.far.x-=e*this.farReleseSpeed,this.far.x<this.oFarX-this.farOffX&&(this.far.x=this.oFarX),this.ground.x-=e*this.groundReleseSpeed,this.ground.x<this.oGroundX-this.groundOffX&&(this.ground.x=this.oGroundX),this.treasuerLayer.x-=e*this.layerRelaseSpeed},__decorate([c(cc.Node)],e.prototype,"far",void 0),__decorate([c(cc.Integer)],e.prototype,"farReleseSpeed",void 0),__decorate([c(cc.Integer)],e.prototype,"farOffX",void 0),__decorate([c(cc.Node)],e.prototype,"ground",void 0),__decorate([c(cc.Integer)],e.prototype,"groundReleseSpeed",void 0),__decorate([c(cc.Integer)],e.prototype,"groundOffX",void 0),__decorate([c(cc.Node)],e.prototype,"treasuerLayer",void 0),__decorate([c(cc.Integer)],e.prototype,"layerRelaseSpeed",void 0),__decorate([c({visible:!1})],e.prototype,"oFarX",void 0),__decorate([c({visible:!1})],e.prototype,"oGroundX",void 0),__decorate([c({visible:!1})],e.prototype,"game",void 0),e=__decorate([a],e)}(cc.Component);o.default=i,cc._RF.pop()},{}],distanceCrl:[function(e,t,o){"use strict";cc._RF.push(t,"03059/pr5ZMcJVZLFWjUu3x","distanceCrl"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,i=e("./bgCtl"),n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.distanceLabel=null,e.distance=0,e.bgCtl=null,e}return __extends(e,t),e.prototype.onLoad=function(){var e=this;this.distance=0,this.schedule(function(){e.distance+=e.bgCtl._speed},1)},e.prototype.update=function(e){this.distanceLabel.string=this.distance},__decorate([c(cc.Label)],e.prototype,"distanceLabel",void 0),__decorate([c(cc.Integer)],e.prototype,"distance",void 0),__decorate([c(i.default)],e.prototype,"bgCtl",void 0),e=__decorate([a],e)}(cc.Component);o.default=n,cc._RF.pop()},{"./bgCtl":"bgCtl"}],gameCtl:[function(e,t,o){"use strict";cc._RF.push(t,"e0eb1YuOMtBR5RILkRbEojH","gameCtl"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,i=e("./heroMoveCtl"),n=e("./cameraManager"),s=e("./prefabManager"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Hero=null,e.CameraManager=null,e.PrefabManager=null,e.score=null,e.scoreNumber=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.startGame()},e.prototype.startGame=function(){this.Hero.init(this),this.CameraManager.init(this),this.PrefabManager.init(this),this.scoreNumber=0,this.score.string=this.scoreNumber+"m"},e.prototype.stopGame=function(){},e.prototype.gainScore=function(){this.scoreNumber+=.01*this.PrefabManager.rockSpace,this.score.string=this.scoreNumber+"m"},__decorate([c(i.default)],e.prototype,"Hero",void 0),__decorate([c(n.default)],e.prototype,"CameraManager",void 0),__decorate([c(s.default)],e.prototype,"PrefabManager",void 0),__decorate([c(cc.Label)],e.prototype,"score",void 0),__decorate([c({visible:!1})],e.prototype,"scoreNumber",void 0),e=__decorate([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./cameraManager":"cameraManager","./heroMoveCtl":"heroMoveCtl","./prefabManager":"prefabManager"}],heroMoveCtl:[function(e,t,o){"use strict";cc._RF.push(t,"05f3edGPjlFmb1PKg4e/JFc","heroMoveCtl"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc.Enum({NONE:0,NORMAL:1,DEAD:3}),a=cc._decorator,c=a.ccclass,i=a.property,n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedX=0,e.speedY=0,e.gravity=0,e.jumpSpeed=0,e.groundY=0,e.game=null,e.state=r.NONE,e.testLabel=null,e}return __extends(e,t),e.prototype.init=function(e){this.game=e,this.speedY=0,this.state=r.NORMAL,this.registerInput(),this.testLabel.node.active=!1},e.prototype.onCollisionEnter=function(e,t){this.state==r.NORMAL&&(233==e.tag&&this.game.PrefabManager.desTreasure(e.node),3331==e.tag&&this.die())},e.prototype.onCollisionExit=function(e,t){333==e.tag&&this.game.gainScore()},e.prototype.registerInput=function(){cc.find("Canvas/view").on("touchstart",this.jump,this)},e.prototype.jump=function(e){this.speedY=this.jumpSpeed},e.prototype.die=function(){this.state=r.DEAD,this.testLabel.node.active=!0,this.testLabel.string="You Die!"},e.prototype.update=function(e){this.state!=r.NONE&&this.state!=r.DEAD&&(this.speedY-=this.gravity*e,this.node.y+=this.speedY*e,this.node.y<=this.groundY&&(this.node.y=this.groundY),this.node.y>=cc.winSize.height/2&&(this.node.y=cc.winSize.height/2),this.game.CameraManager.moveBg(this.speedX*e))},__decorate([i(cc.Integer)],e.prototype,"speedX",void 0),__decorate([i({type:cc.Integer,visible:!1})],e.prototype,"speedY",void 0),__decorate([i(cc.Integer)],e.prototype,"gravity",void 0),__decorate([i(cc.Integer)],e.prototype,"jumpSpeed",void 0),__decorate([i(cc.Integer)],e.prototype,"groundY",void 0),__decorate([i({visible:!1})],e.prototype,"game",void 0),__decorate([i({type:r,visible:!1})],e.prototype,"state",void 0),__decorate([i(cc.Label)],e.prototype,"testLabel",void 0),e=__decorate([c],e)}(cc.Component);o.default=n,cc._RF.pop()},{}],prefabManager:[function(e,t,o){"use strict";cc._RF.push(t,"21b08opn3JCkaW63ubKf35M","prefabManager"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.treasurePre=null,e.rockGroupPre=null,e.treasureLayer=null,e.spacingRange=new cc.Vec2(0,0),e.botYRange=new cc.Vec2(0,0),e.rockSpace=0,e.oRockX=0,e.treasureYRange=new cc.Vec2(0,0),e.game=null,e.treasurePool=null,e.rockPool=null,e.curTreasureX=0,e}return __extends(e,t),e.prototype.init=function(e){this.game=e,this.treasurePool=new cc.NodePool,this.rockPool=new cc.NodePool;for(var t=0;t<6;t++)this.treasurePool.put(cc.instantiate(this.treasurePre)),this.rockPool.put(cc.instantiate(this.rockGroupPre));this.curTreasureX=this.oRockX,this.spawnRock(),this.spawnRock(),cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!0},e.prototype.onCollisionEnter=function(e,t){233==e.tag&&this.desTreasure(e.node),333==e.tag&&this.desRock(e.node)},e.prototype.spawnRock=function(){if(0<this.rockPool.size()){var e=this.rockPool.get(),t=e.getChildByName("rockTop"),o=e.getChildByName("rockBot"),r=this.botYRange.x+Math.random()*(this.botYRange.y-this.botYRange.x),a=r+(this.spacingRange.x+Math.random()*(this.spacingRange.y-this.spacingRange.x));this.treasureLayer.addChild(e),t.y=a,o.y=r,e.x=this.curTreasureX,225<=t.y&&(t.active=!1),this.spawnTreasure(),this.curTreasureX+=this.rockSpace}},e.prototype.spawnTreasure=function(){if(Math.random()<.8&&0<this.treasurePool.size()){var e=this.treasurePool.get();e.y=this.treasureYRange.x+Math.random()*(this.treasureYRange.y-this.treasureYRange.x),e.x=this.curTreasureX+this.rockSpace/2,this.treasureLayer.addChild(e)}},e.prototype.desTreasure=function(e){this.treasurePool.put(e)},e.prototype.desRock=function(e){e.getChildByName("rockTop").active=!0,this.rockPool.put(e),this.spawnRock()},__decorate([c(cc.Prefab)],e.prototype,"treasurePre",void 0),__decorate([c(cc.Prefab)],e.prototype,"rockGroupPre",void 0),__decorate([c(cc.Node)],e.prototype,"treasureLayer",void 0),__decorate([c],e.prototype,"spacingRange",void 0),__decorate([c],e.prototype,"botYRange",void 0),__decorate([c(cc.Integer)],e.prototype,"rockSpace",void 0),__decorate([c(cc.Integer)],e.prototype,"oRockX",void 0),__decorate([c],e.prototype,"treasureYRange",void 0),__decorate([c({visible:!1})],e.prototype,"game",void 0),__decorate([c({visible:!1})],e.prototype,"treasurePool",void 0),__decorate([c({visible:!1})],e.prototype,"rockPool",void 0),__decorate([c({visible:!1})],e.prototype,"curTreasureX",void 0),e=__decorate([a],e)}(cc.Component);o.default=i,cc._RF.pop()},{}]},{},["attributeCtl","bgCtl","cameraManager","distanceCrl","gameCtl","heroMoveCtl","prefabManager"]);